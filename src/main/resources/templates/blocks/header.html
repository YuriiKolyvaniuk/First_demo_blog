<div th:fragment="header">
    <html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <div class="container">
        <header class="border-bottom lh-1 py-3">
            <div class="row flex-nowrap justify-content-between align-items-center">
                <div class="col-4 pt-1">
                    <a th:href="'/blog/add'" class="btn btn-info">Add new post</a>
                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-body-emphasis text-decoration-none" href="/blog">Main Page</a>
                </div>

                <div class="col-4 d-flex justify-content-end align-items-center mt-3 py-1">
                    <form th:action="@{/blog/search}" method="get">
                        <div class="input-group">
                            <input type="text" name="query" class="form-control" placeholder="Search...">
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-primary search-btn rounded-0 rounded-end">Search
                                </button>
                            </div>
                        </div>
                    </form>
                    <div class="ml-3" style="margin-left: 1rem">
                        <div sec:authorize="isAnonymous()" class="d-flex ">
                            <button class="btn btn-light" style="margin-right: .5rem; white-space: nowrap" onclick="window.location.href='/login'">Sign in</button>
                            <button class="btn btn-info" style="white-space: nowrap" onclick="window.location.href='/signup'">Sign up</button>
                        </div>
                        <div sec:authorize="hasAnyRole('ROLE_USER','ROLE_ADMIN', 'ROLE_MODERATOR')">
                            <div class="drop-menu">
                                <button class="btn btn-light dropdown-toggle" id="accountDropdown" onclick="toggleDropdown()">Account</button>
                                <div class="dropdown-menu" id="accountDropdownMenu">
                                    <a class="dropdown-item custom-dropdown-item" href="/logout">Logout</a>
                                    <a class="dropdown-item custom-dropdown-item" href="/login?logout">Change Account</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </header>

        <div class="nav-scroller py-1 mb-3 border-bottom">
            <nav class="nav nav-underline justify-content-between">
                <a class="nav-item nav-link link-body-emphasis active" href="/blog/topics/World">World</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Technology">Technology</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Design">Design</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Culture">Culture</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Business">Business</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Politics">Politics</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Opinion">Opinion</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Science">Science</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Health">Health</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Style">Style</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Travel">Travel</a>
                <a class="nav-item nav-link link-body-emphasis" href="/blog/topics/Other">Other</a>
            </nav>
        </div>
    </div>

    <style>
        .custom-dropdown-item {
            color: #333;
            padding: 0.5rem 1rem;
            text-decoration: none;
            display: block;
        }

        .custom-dropdown-item:hover {
            background-color: #f8f9fa;
        }
    </style>

    <script>
        function toggleDropdown() {
            var dropdownMenu = document.getElementById("accountDropdownMenu");
            dropdownMenu.classList.toggle("show");
        }
    </script>

    </html>
</div>

